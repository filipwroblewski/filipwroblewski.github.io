<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interest Calc</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <a href="index.html" class="back-btn">← Back to Useful Tools</a>

  <h1>Simple Interest Calculator</h1>

  <p>
    Enter your starting amount, annual interest rate (e.g. <code>5</code> for 5%),
    number of months, and income tax rate. The calculator will show:
  </p>
  <ul>
    <li><b>initial_amount</b>: how much you put in</li>
    <li><b>final_amount</b>: the balance after growth</li>
    <li><b>net_earnings</b>: the profit after tax</li>
  </ul>

  <label>
    Amount in:
    <input type="number" id="amount_in" placeholder="e.g. 1000">
  </label>
  <label>
    Annual rate (%):
    <input type="number" step="0.01" id="annual_rate" placeholder="e.g. 5">
  </label>
  <label>
    Months:
    <input type="number" id="months" placeholder="e.g. 12">
  </label>
  <label>
    Tax rate:
    <input type="number" step="0.5" id="tax_rate" placeholder="e.g. 5" value="5">
  </label>
  <button onclick="runCalc()">Calculate</button>

  <h2>Results</h2>
  <div id="output"></div>

  <script>
    function round2(num) {
      return Math.round(num * 100) / 100;
    }

    function calc(amount_in, annual_rate_percent, months, tax_rate) {
      const annual_rate = annual_rate_percent / 100; // 5 → 0.05
      const final_amount = amount_in * (1 + annual_rate / 12 * months);
      const earnings = final_amount - amount_in;
      const net_earnings = earnings * (1 - tax_rate);
      return {
        initial_amount: round2(amount_in),
        final_amount: round2(final_amount),
        net_earnings: round2(net_earnings)
      };
    }

    function runCalc() {
      const amount_in = parseFloat(document.getElementById('amount_in').value);
      const annual_rate = parseFloat(document.getElementById('annual_rate').value);
      const months = parseInt(document.getElementById('months').value, 10);
      const tax_rate = parseFloat(document.getElementById('tax_rate').value);

      if (isNaN(amount_in) || isNaN(annual_rate) || isNaN(months) || isNaN(tax_rate)) {
        document.getElementById('output').textContent = "This thing doesn’t run on air. Put numbers everywhere";
        return;
      }

      const result = calc(amount_in, annual_rate, months, tax_rate);
      document.getElementById('output').innerHTML = `
        <div class="result-card">
          <p><strong>Initial amount:</strong> ${result.initial_amount}</p>
          <p><strong>Final amount:</strong> ${result.final_amount}</p>
          <p><strong>Net earnings (after tax):</strong> ${result.net_earnings}</p>
        </div>
      `;
    }
  </script>
</body>

</html>